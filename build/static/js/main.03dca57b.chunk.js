(this["webpackJsonptunein-lite"]=this["webpackJsonptunein-lite"]||[]).push([[0],{12:function(e,t,n){e.exports=n(21)},17:function(e,t,n){},18:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(6),o=n.n(i),c=(n(17),n(18),n(7)),l=n(8),s=n(11),u=n(9),m=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={hasError:!1},a}return Object(l.a)(n,[{key:"componentDidCatch",value:function(e,t){console.error(e,t)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",{className:"message"},"Sorry! TuneIn lite is not working right now. Please refresh the page or try again later"):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(r.a.Component),d=n(2),f=n(10),h=function(e){var t=e.id,n=e.description,a=e.name,r=e.imgUrl,i=e.streamUrl,o=e.reliability,c=e.popularity,l=e.tags,s=function(e){return"string"===typeof e&&e.length>0},u=function(e){return"number"===typeof e};return{id:s(t)?t:String(Date.now()),description:s(n)?n:"no description found",name:s(a)?a:"no name found",imgUrl:s(r)?r:"https://via.placeholder.com/145",streamUrl:s(i)?i:"",reliability:u(o)?o:0,popularity:u(c)?c:0,tags:Array.isArray(l)?l:[]}},p=function(e){var t=e.station,n=e.stationError;return r.a.createElement("div",{className:"player",key:t.id},r.a.createElement("h3",null,t.name),r.a.createElement("div",null,t.description),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("b",null,"Categories:")," ",t.tags.join(", ")),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("img",{alt:t.name,src:t.imgUrl})),r.a.createElement("audio",{autoPlay:!0,controls:!0,onError:function(){alert("Sorry, there was a problem trying to play this station. Please try another."),n()},src:t.streamUrl}))},E=n(3),g=n(4),v=function(e){var t=Object(a.useState)({"hip hop":0,music:0,latin:0,"pop latino":0,news:0,"public radio":0,"current affairs":0,jazz:0,chicago:0,top:0,"classic rock":0,pop:0,"top hits":0,"country hits":0,"world news":0}),n=Object(d.a)(t,2),r=n[0],i=n[1];return[function(e){var t=r;e.forEach((function(e){t=Object(g.a)(Object(g.a)({},t),{},Object(E.a)({},e,["news","music"].includes(e)?Math.ceil(r[e]+3):Math.ceil(r[e]+2)))})),i(t)},function(){if(!(e.length<1))return e.map((function(e){var t=e.id,n=e.popularity,a=e.reliability,i=0;return e.tags.forEach((function(e){i+=r[e]})),{id:t,score:i+n+Math.floor(a/10)}})).sort((function(e,t){return t.score-e.score})).slice(0,3)}]},y=function(e){var t=e.stations,n=e.setSelectedStation,i=v(t),o=Object(d.a)(i,2),c=o[0],l=(0,o[1])(),s=function(e){return r.a.createElement("button",{className:"station",onClick:function(){c(e.tags),n(e.id)},key:e.id},e.name)},u=Object(a.useMemo)((function(){return t.sort((function(e,t){return t.popularity-e.popularity}))}),[t]);return r.a.createElement("div",{className:"list"},r.a.createElement("h4",null,r.a.createElement("i",null,"-------------suggested stations------------")),r.a.createElement("div",null,l&&l.map((function(e){var n=e.id,a=t.find((function(e){return n===e.id}));return s(a)}))),r.a.createElement("br",null),r.a.createElement("h4",null,"----------All Stations-----------"),r.a.createElement("div",null,u.map((function(e){return s(e)}))))},b=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)([]),c=Object(d.a)(o,2),l=c[0],s=c[1],u=Object(a.useState)(!1),m=Object(d.a)(u,2),E=m[0],g=m[1],v=function(){i(!1)},b=r.a.createElement("div",{className:"message"},"Sorry, something is wrong with TuneIn lite. Please try again later.");return r.a.createElement(f.a,{url:"https://s3-us-west-1.amazonaws.com/cdn-web.tunein.com/stations.json",responseType:"json",onResponse:function(e,t){var n=t.data,a=(n||{data:void 0}).data,r=void 0===a?void 0:a,i=Array.isArray(r)?r.map((function(e){return h(e)})):void 0;i?s(i):g(!0)}},(function(e){var t=e.fetching,a=e.failed,o=e.data;return t?r.a.createElement("div",{className:"message"},"Loading stations! sit tight..."):a||E?b:o?r.a.createElement(r.a.Fragment,null,n?r.a.createElement(p,{station:l.find((function(e){return e.id===n})),stationError:v}):r.a.createElement("h4",{className:"message"},"Welcome to TuneIn radio lite! Please select a station below:"),r.a.createElement(y,{stations:l,setSelectedStation:i})):b}))};var w=function(){return r.a.createElement(m,null,r.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[12,1,2]]]);
//# sourceMappingURL=main.03dca57b.chunk.js.map